<!DOCTYPE html>
<html>
<head>
  <title></title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.2/papaparse.js"></script>
</head>
<body>
  Fajr <div id='fajr'></div>
  Sunrise <div id='sunrise'></div>
  Dhuhr <div id='dhuhr'></div>
  Asr <div id='asr'></div>
  Maghrib <div id='maghrib'></div>
  Isha <div id='isha'></div>

<script>
  var dataString = "March 09, 2016";
  Papa.parse("data.csv", {
    download: true,
    dynamicTyping: true,
    header: true,
    complete: function(results) {
      console.log("Parsing complete: Full Result", results.data);
      console.log("Parsing complete: first object", results.data[0]["prayer_date"]);
      console.log("03/09:", results.data[68]["prayer_date"] === todayDate);
      console.log(todayDate);

      var i = 0;
      var todayDate = stringDate();
      function stringDate() {
        var todayDate = new Date();
        var month = todayDate.getMonth() + 1;
        month = "0" + month;
        var date = todayDate.getDate();
        date = "0" + date;
        todayDate = month + "/" + date;
        return todayDate;
      } console.log(typeof(todayDate));
      while (i < 367) {
        x = 0;
        if (todayDate !== results.data[x]['prayer_date']) {
          x = x + i; break;
        } i = i + 1;
      } console.log(i);

      dataString = dataString + " " + results.data[68]["fajr_azaan"];

      var newDate = new Date(dataString);
      var hour = newDate.getHours();
      var minutes = newDate.getMinutes();
      var timeSuffix = "AM";
      function checkHours(i) {
        if (i > 12) {
          i = i - 12;
          timeSuffix = "PM";
          return i;
        }
      }
      hour = checkHours(hour);
      document.getElementById('fajr').innerHTML = hour + ":" + minutes + " " + timeSuffix;
      document.getElementById('sunrise').innerHTML = hour + ":" + minutes + " " + timeSuffix;
      document.getElementById('dhuhr').innerHTML = hour + ":" + minutes + " " + timeSuffix;
      document.getElementById('asr').innerHTML = hour + ":" + minutes + " " + timeSuffix;
      document.getElementById('maghrib').innerHTML = hour + ":" + minutes + " " + timeSuffix;
      document.getElementById('isha').innerHTML = hour + ":" + minutes + " " + timeSuffix;
    }
  });
</script>
</body>
</html>
